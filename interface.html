<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Hands to Heaven — Shop</title>
    <meta name="description" content="Hands to Heaven official store. Explore curated collections with a serene, modern experience." />
    <meta name="color-scheme" content="light dark" />

    <style>
      :root {
        --bg: #ffffff;               /* white */
        --fg: #1a1a1a;               /* near-black text */
        --muted: #6b7280;            /* gray-500 */
        --border: #f1f5f9;           /* light border */
        --brand: #f59e0b;            /* amber-500 */
        --brand-600: #d97706;        /* amber-600 */
        --accent: #fff7ed;           /* orange-50 */
        --card: #ffffff;             /* white cards */
        --success: #10b981;          /* green-500 */
        --warning: #f59e0b;          /* amber-500 */
        --error: #ef4444;            /* red-500 */
        --shadow: 0 1px 2px rgba(0,0,0,0.06), 0 4px 16px rgba(0,0,0,0.06);
      }
      @media (prefers-color-scheme: dark) {
        :root {
          /* Keep light pink theme even in dark-mode preference */
          --bg: #ffffff;
          --fg: #1a1a1a;
          --muted: #6b7280;
          --border: #f1f5f9;
          --brand: #f59e0b;
          --brand-600: #d97706;
          --accent: #fff7ed;
          --card: #ffffff;
          --shadow: 0 1px 2px rgba(0,0,0,0.06), 0 6px 24px rgba(0,0,0,0.08);
        }
      }

      html, body { height: 100%; }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        background: var(--bg);
        color: var(--fg);
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        overflow-x: hidden;
      }
      a { color: inherit; text-decoration: none; }
      img { max-width: 100%; display: block; }
      button { font: inherit; color: inherit; }
      input, select { font: inherit; color: inherit; }

      .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
      .visually-hidden { position: absolute; left: -9999px; width: 1px; height: 1px; overflow: hidden; }

      /* Top notice */
      .notice {
        background: linear-gradient(90deg, var(--brand), var(--brand-600));
        color: white;
        font-weight: 600;
        text-align: center;
        padding: 8px 12px;
        font-size: 14px;
      }

      /* Header */
      header {
        position: sticky;
        top: 0;
        z-index: 40;
        background: var(--bg);
        border-bottom: 1px solid var(--border);
        backdrop-filter: saturate(180%) blur(8px);
      }
      .header-inner {
        display: grid;
        grid-template-columns: auto 1fr auto;
        align-items: center;
        gap: 16px;
        padding: 14px 0;
      }
      .brand-spacer { height: 36px; }
      .brand {
        display: flex;
        align-items: center;
        gap: 10px;
        font-weight: 800;
        letter-spacing: 0.2px;
      }
      .brand-logo {
        width: 36px; height: 36px; border-radius: 10px;
        object-fit: cover;
        box-shadow: var(--shadow);
      }
      .brand-name { font-size: 18px; text-transform: uppercase; }
      /* Larger brand in hero only */
      .hero .brand-logo { width: 140px; height: 140px; border-radius: 20px; }
      .hero .brand-name { font-size: 44px; letter-spacing: 0.6px; }

      .search {
        display: flex; align-items: center; gap: 10px;
        background: var(--card);
        border: 1px solid var(--border);
        border-radius: 9999px; padding: 10px 14px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.04);
        position: relative;
        overflow: visible;
        transition: box-shadow .2s ease, transform .1s ease, border-color .2s ease;
        width: 100%;
        min-width: 0; /* allow grid item to shrink without overlapping */
        max-width: 520px;
        justify-self: center;
      }
      .search input {
        flex: 1; border: 0; outline: 0; background: transparent;
      }
      /* Hide native clear (X) so we only show our custom clear button */
      .search input::-webkit-search-cancel-button { -webkit-appearance: none; appearance: none; height: 0; width: 0; display: none; }
      .search input::-webkit-search-decoration { -webkit-appearance: none; }
      .search input::-ms-clear { display: none; width: 0; height: 0; }
      .search button[type="submit"] {
        border: 0; background: var(--brand); color: #fff;
        padding: 10px 14px; border-radius: 9999px; cursor: pointer;
      }
      .search:focus-within {
        border-color: var(--brand);
        box-shadow: 0 6px 22px rgba(245,158,11,0.18), 0 0 0 2px rgba(245,158,11,0.25);
        transform: translateY(-1px);
      }
      .clear-btn { background: none; border: none; padding: 6px; cursor: pointer; color: var(--muted); border-radius: 8px; }
      .clear-btn:hover { background: var(--accent); color: var(--fg); }

      /* Search dropdown */
      .search-dropdown { position: absolute; top: calc(100% + 8px); left: 0; right: 0; background: var(--card); border: 1px solid var(--border); border-radius: 12px; box-shadow: var(--shadow); display: none; overflow: hidden; z-index: 90; }
      .search.open .search-dropdown { display: block; }
      .search-list { max-height: 320px; overflow: auto; padding: 6px; display: grid; gap: 6px; }
      .search-item { display: grid; grid-template-columns: 44px 1fr auto; gap: 10px; align-items: center; padding: 8px; border-radius: 10px; cursor: pointer; border: 1px solid transparent; }
      .search-item:hover, .search-item[aria-selected="true"] { background: var(--accent); border-color: var(--border); }
      .search-thumb { width: 44px; height: 44px; border-radius: 10px; object-fit: cover; box-shadow: var(--shadow); }
      .search-title { font-weight: 700; }
      .search-sub { color: var(--muted); font-size: 12px; }
      .search-price { font-weight: 700; }

      .highlight { outline: 2px solid var(--brand); outline-offset: 2px; border-radius: 12px; }

      nav.primary {
        display: flex; gap: 12px; justify-content: flex-end; align-items: center; flex-wrap: nowrap; flex: 0 0 auto;
      }
      .link-btn, .icon-btn { flex-shrink: 0; }
      .nav-link { padding: 8px 10px; color: var(--muted); }
      .nav-link:hover { color: var(--fg); }
      .icon-btn { background: none; border: 1px solid var(--border); border-radius: 10px; padding: 8px; cursor: pointer; display: inline-flex; align-items: center; gap: 8px; }
      .cart-count { background: var(--brand); color: #fff; border-radius: 999px; padding: 2px 8px; font-size: 12px; font-weight: 700; }
      .hamburger { display: none; }
      .link-btn { background: var(--card); border: 1px solid var(--border); border-radius: 10px; padding: 8px 12px; display: inline-flex; align-items: center; gap: 8px; cursor: pointer; box-shadow: var(--shadow); }
      .link-btn:hover { background: var(--accent); }

      /* Dropdown */
      .dropdown { position: relative; }
      .dropdown-menu {
        position: absolute; right: 0; top: calc(100% + 8px);
        background: var(--card);
        border: 1px solid var(--border);
        border-radius: 12px;
        min-width: 180px;
        box-shadow: var(--shadow);
        padding: 8px;
        display: none;
        z-index: 80;
      }
      .dropdown[data-open="true"] .dropdown-menu { display: block; }
      .menu-item { display: flex; align-items: center; gap: 10px; padding: 10px 12px; border-radius: 10px; color: var(--fg); }
      .menu-item:hover { background: var(--accent); }

      /* Phone preview modal */
      .phone-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.55); backdrop-filter: blur(2px); display: none; place-items: center; z-index: 120; }
      .phone-overlay[aria-hidden="false"] { display: grid; }
      .phone-frame { width: 375px; height: 740px; background: #000; border-radius: 28px; box-shadow: 0 20px 60px rgba(0,0,0,0.5); border: 12px solid #111; position: relative; overflow: hidden; }
      .phone-notch { position: absolute; top: 0; left: 50%; transform: translateX(-50%); width: 140px; height: 24px; background: #111; border-bottom-left-radius: 14px; border-bottom-right-radius: 14px; z-index: 2; }
      .phone-iframe { position: absolute; inset: 0; border: 0; width: 100%; height: 100%; background: #000; }
      .phone-close { position: absolute; top: -48px; right: 0; background: #fff; color: #111; border: 0; border-radius: 10px; padding: 8px 10px; cursor: pointer; }

      /* Hero */
      .hero {
        background: linear-gradient(180deg, #ffffff, #fff7ed);
        border-bottom: 1px solid var(--border);
      }
      .hero-inner {
        display: grid; grid-template-columns: 1.2fr 0.8fr; gap: 40px; align-items: center; padding: 48px 0;
      }
      .hero h1 { font-size: 40px; line-height: 1.1; margin: 0 0 12px; }
      .hero p { color: var(--muted); margin: 0 0 20px; }
      .cta-row { display: flex; gap: 12px; align-items: center; }
      .btn {
        display: inline-flex; align-items: center; gap: 10px; border: 1px solid var(--border);
        padding: 12px 16px; border-radius: 12px; cursor: pointer; background: var(--card);
      }
      .btn.primary { background: var(--brand); color: white; border-color: transparent; }
      .btn.primary:hover { background: var(--brand-600); }
      .meta { display: flex; gap: 16px; color: var(--muted); font-size: 14px; margin-top: 12px; }

      .hero-media {
        border-radius: 16px; position: relative;
        background: none;
        box-shadow: var(--shadow);
        display: inline-block;
        width: fit-content;
        overflow: hidden;
        justify-self: start;
      }
      .hero-media::after {
        content: none;
        position: absolute; inset: 0; display: grid; place-items: center; color: #64748b;
        font-weight: 600; letter-spacing: 0.2px;
      }
      .hero-inline-logo { display: none; vertical-align: middle; border-radius: 8px; box-shadow: var(--shadow); }

      /* Layout */
      .layout { display: grid; grid-template-columns: 260px 1fr; gap: 24px; padding: 28px 0 40px; }

      /* Filters */
      .filters { background: var(--card); border: 1px solid var(--border); border-radius: 14px; padding: 16px; height: fit-content; box-shadow: var(--shadow); position: sticky; top: 82px; }
      .filters h3 { margin: 4px 0 12px; font-size: 16px; }
      .filter-group { border-top: 1px solid var(--border); padding-top: 12px; margin-top: 12px; }
      .checkbox { display: flex; align-items: center; gap: 10px; margin: 8px 0; }
      .price-row { display: flex; gap: 10px; }
      .price-row input { width: 100%; padding: 8px 10px; border: 1px solid var(--border); border-radius: 10px; background: transparent; }

      /* Product grid */
      .products-card { background: var(--card); border: 1px solid var(--border); border-radius: 14px; box-shadow: var(--shadow); }
      .toolbar { display: flex; justify-content: space-between; align-items: center; padding: 12px 16px; border-bottom: 1px solid var(--border); gap: 12px; flex-wrap: wrap; }
      .grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; padding: 16px; }
      .card { border: 1px solid var(--border); border-radius: 12px; overflow: hidden; background: var(--bg); display: flex; flex-direction: column; }
      .media { aspect-ratio: 1/1; background: linear-gradient(135deg, #ffedd5, #fff7ed); position: relative; }
      .media img { width: 100%; height: 100%; object-fit: cover; display: block; position: absolute; inset: 0; }
      .media::after { content: none; }
      .info { padding: 12px; display: grid; gap: 6px; }
      .title { font-weight: 700; }
      .subtitle { color: var(--muted); font-size: 14px; }
      .price-row-card { display: flex; justify-content: space-between; align-items: center; }
      .add-btn { background: var(--brand); color: #fff; border: none; padding: 8px 12px; border-radius: 10px; cursor: pointer; }
      .add-btn:hover { background: var(--brand-600); }

      /* Newsletter */
      .newsletter { margin: 40px 0; border: 1px solid var(--border); border-radius: 16px; padding: 24px; background: var(--card); display: grid; grid-template-columns: 1.2fr 0.8fr; gap: 16px; box-shadow: var(--shadow); }
      .newsletter form { display: flex; gap: 10px; }
      .newsletter input { flex: 1; padding: 12px 14px; border: 1px solid var(--border); border-radius: 12px; background: transparent; }
      .newsletter button { padding: 12px 16px; border-radius: 12px; border: none; background: var(--brand); color: #fff; cursor: pointer; }

      /* Footer */
      footer { border-top: 1px solid var(--border); padding: 28px 0; }
      .footer-grid { display: grid; grid-template-columns: 1.2fr repeat(3, 1fr); gap: 24px; }
      .muted { color: var(--muted); }

      /* Drawers */
      .overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.35); opacity: 0; pointer-events: none; transition: opacity .2s ease; z-index: 60; }
      .drawer { position: fixed; top: 0; right: 0; height: 100%; width: 360px; max-width: 90vw; background: var(--card); border-left: 1px solid var(--border); transform: translateX(100%); transition: transform .25s ease; box-shadow: var(--shadow); display: flex; flex-direction: column; z-index: 70; }
      .drawer-header { 
        display: flex; 
        justify-content: space-between; 
        align-items: center; 
        padding: 16px 20px; 
        border-bottom: 1px solid var(--border);
        background: var(--card);
      }
      .drawer-body { 
        padding: 20px; 
        overflow: auto; 
        flex: 1;
      }
      .drawer-footer { 
        margin-top: auto; 
        padding: 20px; 
        border-top: 1px solid var(--border); 
        display: grid; 
        gap: 12px;
        background: var(--card);
      }
      .open .overlay { opacity: 1; pointer-events: auto; }
      .open .drawer { transform: translateX(0); }

      /* Animations and Transitions */
      * { transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
      
      .brand-mark { 
        animation: float 3s ease-in-out infinite;
        transform-origin: center;
      }
      
      @keyframes float {
        0%, 100% { transform: translateY(0px) rotate(0deg); }
        50% { transform: translateY(-3px) rotate(2deg); }
      }
      
      .card { 
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        transform: translateY(0);
      }
      
      .card:hover { 
        transform: translateY(-8px) scale(1.02);
        box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        border-color: var(--brand);
      }
      
      .add-btn {
        transition: all 0.2s ease;
        position: relative;
        overflow: hidden;
      }
      
      .add-btn:hover {
        transform: scale(1.05);
        box-shadow: 0 4px 12px rgba(91, 124, 250, 0.4);
      }
      
      .add-btn:active {
        transform: scale(0.95);
      }
      
      .add-btn::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
        transition: left 0.5s;
      }
      
      .add-btn:hover::before {
        left: 100%;
      }
      
      .nav-link {
        position: relative;
        transition: all 0.3s ease;
      }
      
      .nav-link::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 50%;
        width: 0;
        height: 2px;
        background: var(--brand);
        transition: all 0.3s ease;
        transform: translateX(-50%);
      }
      
      .nav-link:hover::after {
        width: 100%;
      }
      
      .nav-link:hover {
        color: var(--brand);
        transform: translateY(-1px);
      }
      
      .search input:focus {
        transform: scale(1.02);
        box-shadow: 0 0 0 3px rgba(91, 124, 250, 0.1);
      }
      
      .btn {
        position: relative;
        overflow: hidden;
        transition: all 0.3s ease;
      }
      
      .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(0,0,0,0.15);
      }
      
      .btn.primary:hover {
        box-shadow: 0 8px 25px rgba(91, 124, 250, 0.4);
      }
      
      .hero h1 {
        animation: slideInUp 0.8s ease-out;
      }
      
      .hero p {
        animation: slideInUp 0.8s ease-out 0.2s both;
      }
      
      .cta-row {
        animation: slideInUp 0.8s ease-out 0.4s both;
      }
      
      .meta {
        animation: slideInUp 0.8s ease-out 0.6s both;
      }
      
      @keyframes slideInUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      
      .hero-media {
        animation: fadeInScale 1s ease-out 0.8s both;
      }
      
      @keyframes fadeInScale {
        from {
          opacity: 0;
          transform: scale(0.9);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }
      
      .grid {
        animation: fadeIn 0.6s ease-out;
      }
      
      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }
      
      .card {
        animation: slideInUp 0.6s ease-out;
        animation-fill-mode: both;
      }
      
      .card:nth-child(1) { animation-delay: 0.1s; }
      .card:nth-child(2) { animation-delay: 0.2s; }
      .card:nth-child(3) { animation-delay: 0.3s; }
      .card:nth-child(4) { animation-delay: 0.4s; }
      .card:nth-child(5) { animation-delay: 0.5s; }
      .card:nth-child(6) { animation-delay: 0.6s; }
      
      .cart-count {
        animation: pulse 0.6s ease-out;
      }
      
      @keyframes pulse {
        0% { transform: scale(1); }
        50% { transform: scale(1.2); }
        100% { transform: scale(1); }
      }
      
      .drawer {
        transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }
      
      .overlay {
        transition: opacity 0.3s ease;
      }
      
      .icon-btn:hover {
        transform: scale(1.1);
        background: var(--accent);
      }
      
      .checkbox input[type="checkbox"] {
        transition: all 0.2s ease;
      }
      
      .checkbox input[type="checkbox"]:checked {
        transform: scale(1.1);
      }
      
      .price-row input:focus {
        transform: scale(1.02);
        border-color: var(--brand);
        box-shadow: 0 0 0 2px rgba(91, 124, 250, 0.1);
      }
      
      .newsletter input:focus {
        transform: scale(1.02);
        border-color: var(--brand);
        box-shadow: 0 0 0 2px rgba(91, 124, 250, 0.1);
      }
      
      .newsletter button:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(91, 124, 250, 0.4);
      }
      
      .footer-grid a:hover {
        color: var(--brand);
        transform: translateX(4px);
      }

      /* Ads strip */
      .ad-strip {
        border: 1px solid var(--border);
        background: var(--card);
        border-radius: 14px;
        box-shadow: var(--shadow);
        overflow: hidden;
        margin: 18px 0;
        min-height: 80px;
      }
      .ad-strip.full-bleed {
        width: 100vw;
        margin-left: calc(50% - 50vw);
        margin-right: calc(50% - 50vw);
        border-radius: 0;
      }
      .ad-viewport { overflow: hidden; }
      .ad-track {
        display: flex;
        gap: 20px;
        padding: 20px 0 20px 16px;
        will-change: transform;
        animation: scrollLeft 25s linear infinite;
      }
      .ad-track.reverse { animation-name: scrollRight; }
      .ad-strip:hover .ad-track { animation-play-state: paused; }
      .ad-item {
        display: inline-flex;
        align-items: center;
        gap: 12px;
        padding: 12px 16px;
        background: linear-gradient(135deg, #fff7ed, #ffffff);
        border: 1px solid var(--border);
        border-radius: 12px;
        box-shadow: var(--shadow);
        min-width: 140px;
      }
      .ad-item img { width: 60px; height: 60px; object-fit: cover; border-radius: 10px; }
      .ad-item .label { font-weight: 700; white-space: nowrap; font-size: 14px; }

      @keyframes scrollLeft {
        from { transform: translateX(0); }
        to { transform: translateX(-50%); }
      }
      @keyframes scrollRight {
        from { transform: translateX(-50%); }
        to { transform: translateX(0); }
      }
      
      /* Full-bleed promo slider (Diwali) */
      .promo {
        border-top: 1px solid var(--border);
        border-bottom: 1px solid var(--border);
        background: var(--card);
      }
      .promo.full-bleed {
        width: 100vw;
        margin-left: calc(50% - 50vw);
        margin-right: calc(50% - 50vw);
      }
      .promo-viewport { overflow: hidden; }
      .promo-track { display: flex; will-change: transform; transition: transform .6s ease; }
      .promo-slide { width: 100vw; height: 260px; position: relative; }
      .promo-slide img { width: 100%; height: 100%; object-fit: cover; display: block; }
      
      /* Toasts */
      .toaster { position: fixed; top: 16px; right: 16px; display: grid; gap: 10px; z-index: 1000; pointer-events: none; }
      .toast { background: var(--success); color: #ffffff; border: 1px solid rgba(0,0,0,0.1); border-radius: 12px; padding: 10px 12px; box-shadow: var(--shadow); display: flex; align-items: center; gap: 10px; pointer-events: auto; }
      .toast.enter { animation: toastIn .2s ease-out; }
      .toast.exit { animation: toastOut .2s ease-in forwards; }
      @keyframes toastIn { from { opacity: 0; transform: translateY(-6px); } to { opacity: 1; transform: translateY(0); } }
      @keyframes toastOut { to { opacity: 0; transform: translateY(-6px); } }
      
      /* Loading states */
      .loading {
        position: relative;
        overflow: hidden;
      }
      
      .loading::after {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
        animation: shimmer 1.5s infinite;
      }
      
      @keyframes shimmer {
        0% { left: -100%; }
        100% { left: 100%; }
      }
      
      /* Mobile */
      @media (max-width: 1100px) {
        .header-inner { grid-template-columns: auto 1fr auto; }
        .brand-name { font-size: 16px; }
        nav.primary { display: flex; gap: 8px; }
        #becomeSeller { display: none; }
        .hamburger { display: inline-flex; }
        .link-btn span { display: none; }
        .link-btn { padding: 6px; }
        .hero-inner { grid-template-columns: 1fr; }
        .layout { grid-template-columns: 1fr; }
        .filters { position: static; }
        .grid { grid-template-columns: repeat(2, 1fr); }
        .newsletter { grid-template-columns: 1fr; }
        .footer-grid { grid-template-columns: 1fr 1fr; }
      }
      @media (max-width: 640px) {
        .container { padding: 0 12px; }
        .hero h1 { font-size: 16px; line-height: 1.2; }
        .hero-title { position: relative; display: inline-block; }
        .hero-title::after {
          content: '';
          position: absolute; left: 0; right: 0; bottom: -4px; height: 2px;
          background: linear-gradient(90deg, var(--brand), transparent, var(--brand));
          background-size: 200% 100%;
          animation: underlineSlide 3.5s linear infinite;
          opacity: 0.6;
        }
        @keyframes underlineSlide {
          0% { background-position: 0% 50%; }
          100% { background-position: 200% 50%; }
        }
        .hero p { font-size: 12px; }
        .cta-row { gap: 8px; }
        .btn { padding: 6px 10px; border-radius: 8px; font-size: 12px; }
        .btn.primary { padding: 6px 10px; }
        /* Compact header */
        .header-inner { padding: 8px 0; gap: 8px; }
        .brand-logo { width: 24px; height: 24px; display: block; }
        .brand { min-width: 28px; }
        .brand-name { display: none; }
        .search { padding: 4px 6px; border-radius: 10px; width: auto; max-width: 48vw; flex: 0 1 48vw; min-width: 120px; }
        .search input { font-size: 12px; }
        .search button { padding: 6px 8px; border-radius: 8px; font-size: 12px; }
        .search button[type="submit"] { display: none; }
        .clear-btn { padding: 4px; }
        .icon-btn { padding: 6px; border-radius: 8px; }
        .icon-btn svg { width: 16px; height: 16px; }
        nav.primary { gap: 6px; }
        .cart-count { padding: 1px 6px; font-size: 10px; }
        .search svg { width: 16px; height: 16px; }
        .grid { grid-template-columns: repeat(3, 1fr); gap: 10px; }
        .card { border-radius: 10px; }
        .media { aspect-ratio: 1/1; }
        .info { padding: 8px; }
        .title { font-size: 14px; }
        .subtitle { font-size: 12px; }
        .price-row-card { font-size: 14px; }
        .footer-grid { grid-template-columns: 1fr; }
        body { padding-bottom: 64px; }
        .mobile-tabbar { display: grid; }
        .hero-media { display: none; }
        .hero-inner { display: flex; flex-direction: column; gap: 16px; }
        .hero-inner > div:first-child { display: flex; flex-direction: column; gap: 8px; }
        .hero-inner h1 { font-size: 14px; line-height: 1.1; position: relative; display: -webkit-box; -webkit-line-clamp: 2; line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; padding-right: 86px; margin-bottom: 8px; min-height: 72px; }
        .hero-inner h1::after { content: ''; position: absolute; left: 0; right: 86px; bottom: -4px; height: 2px; background: linear-gradient(90deg, var(--brand), transparent, var(--brand)); background-size: 200% 100%; animation: underlineSlide 3.5s linear infinite; opacity: 0.6; }
        .hero-inner h1::before { content: ''; display: block; width: 70px; height: 70px; background: url('display/hands to heaven logo.jpg') center/cover; border-radius: 12px; box-shadow: var(--shadow); position: absolute; right: 8px; top: 2px; z-index: 1; }
        .hero-inner p { font-size: 11px; margin: 20px 0 12px; }
        .hero-inline-logo { display: inline-block; width: 28px; height: 28px; margin-left: 6px; vertical-align: middle; }
      }
      /* Mobile tab bar */
      .mobile-tabbar { display: none; position: fixed; left: 0; right: 0; bottom: 0; z-index: 90; background: var(--card); border-top: 1px solid var(--border); box-shadow: var(--shadow); grid-template-columns: repeat(4, 1fr); }
      .mobile-tabbar button { background: none; border: none; padding: 10px 0; display: grid; place-items: center; gap: 6px; color: var(--muted); }
      .mobile-tabbar button:active { transform: translateY(1px); }
      .mobile-tabbar .active { color: var(--fg); }
      .mobile-badge { position: relative; }
      .mobile-badge span { position: absolute; top: -4px; right: -10px; background: var(--brand); color: #fff; border-radius: 999px; padding: 2px 6px; font-size: 11px; font-weight: 800; }
    </style>
  </head>
  <body>
    <div class="notice">Free shipping over $75 • Easy 30-day returns</div>
    <header>
      <div class="container header-inner">
        <a class="brand" href="#" aria-label="Hands to Heaven home" style="gap:10px;">
          <img src="display/hands to heaven logo.jpg" alt="Hands to Heaven Logo" class="brand-logo" />
        </a>
        <form class="search" id="searchForm" role="search" aria-label="Site" style="justify-self: stretch;">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M21 21l-3.8-3.8M10.5 18a7.5 7.5 0 100-15 7.5 7.5 0 000 15z" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
          <input type="search" placeholder="Search for products, brands and more" aria-label="Search products" />
          <button type="button" id="clearSearch" class="clear-btn" aria-label="Clear search" title="Clear">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
          </button>
          <button type="submit">Search</button>
          <div class="search-dropdown" id="searchDropdown">
            <div class="search-list" id="searchList"></div>
          </div>
        </form>
        <nav class="primary" aria-label="Primary">
          <button class="link-btn" id="becomeSeller" aria-label="Become a Seller">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M3 10l9-6 9 6v7a2 2 0 01-2 2h-4v-5H9v5H5a2 2 0 01-2-2v-7z" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
            <span>Become a Seller</span>
          </button>
          <button class="icon-btn" id="openCart" aria-label="Open cart">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M3 3h2l1.5 12h11L21 6H6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><circle cx="9" cy="20" r="1.5" fill="currentColor"/><circle cx="17" cy="20" r="1.5" fill="currentColor"/></svg>
            <span class="cart-count" id="cartCount">2</span>
          </button>
          <div class="dropdown" id="moreMenu">
            <button class="icon-btn" id="moreMenuBtn" aria-haspopup="menu" aria-expanded="false" aria-label="More options">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <circle cx="5" cy="12" r="2" fill="currentColor"/>
                <circle cx="12" cy="12" r="2" fill="currentColor"/>
                <circle cx="19" cy="12" r="2" fill="currentColor"/>
              </svg>
            </button>
            <div class="dropdown-menu" role="menu" aria-label="More options">
              <a class="menu-item" href="#about" role="menuitem">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M12 12v6m0-12h.01M21 12c0 4.97-4.03 9-9 9s-9-4.03-9-9 4.03-9 9-9 9 4.03 9 9z" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
                About
              </a>
              <button type="button" class="menu-item" id="openPhoneView" role="menuitem" style="width:100%; text-align:left; background:none; border:none;">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><rect x="7" y="2" width="10" height="20" rx="2" stroke="currentColor" stroke-width="2"/><circle cx="12" cy="18" r="1" fill="currentColor"/></svg>
                Phone view
              </button>
            </div>
          </div>
          <button class="link-btn" id="loginBtn" aria-label="Login" style="margin-left:4px;">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M12 12a5 5 0 100-10 5 5 0 000 10zM3 22a9 9 0 1118 0" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
            <span>Login</span>
          </button>
        </nav>
      </div>
    </header>

    <main>
      <section class="hero">
        <div class="container" style="display:flex; justify-content:center; padding:48px 0;">
          <a class="brand" href="#" aria-label="Hands to Heaven home" style="gap:12px;">
            <img src="display/hands to heaven logo.jpg" alt="Hands to Heaven Logo" class="brand-logo" />
            <div class="brand-name">Hands to Heaven</div>
          </a>
        </div>
      </section>

      <div class="ad-strip full-bleed" aria-label="Resin products highlight (bottom)">
        <div class="ad-viewport">
          <div class="ad-track" id="adsBottom"></div>
        </div>
      </div>

      <!-- Diwali promo slider -->
      <section class="promo full-bleed" aria-label="Diwali offers" style="margin: 16px 0 0;">
        <div class="promo-viewport">
          <div class="promo-track" id="promoTrack">
            <div class="promo-slide"><img src="https://images.unsplash.com/photo-1504544750208-dc0358e63f7f?q=80&w=1600&auto=format&fit=crop" alt="Diwali sale banner 1"></div>
            <div class="promo-slide"><img src="https://images.unsplash.com/photo-1544816155-12df9643f363?q=80&w=1600&auto=format&fit=crop" alt="Diwali sale banner 2"></div>
            <div class="promo-slide"><img src="https://images.unsplash.com/photo-1603899124577-5c07e5f0d0f2?q=80&w=1600&auto=format&fit=crop" alt="Diwali sale banner 3"></div>
          </div>
        </div>
      </section>

      <div class="container layout" id="products">
        <aside class="filters" aria-label="Filters">
          <h3>Filters</h3>
          <div class="filter-group">
            <div class="subtitle">Category</div>
            <label class="checkbox"><input type="checkbox" value="ring" /> Ring</label>
            <label class="checkbox"><input type="checkbox" value="pendant" /> Pendant</label>
            <label class="checkbox"><input type="checkbox" value="keychain" /> Keychain</label>
            <label class="checkbox"><input type="checkbox" value="frame" /> Frame</label>
            <label class="checkbox"><input type="checkbox" value="ear-ring" /> Ear-ring</label>
            <label class="checkbox"><input type="checkbox" value="flower" /> Flower</label>
          </div>
          <button class="btn" style="margin-top:12px;width:100%" id="applyFiltersBtn">Apply filters</button>
        </aside>

        <section class="products-card">
          <div class="toolbar">
          <div class="subtitle">Showing <span id="productCount">0</span> products</div>
            <div style="display:flex; gap:10px; align-items:center;">
              <label for="sort" class="subtitle">Sort</label>
              <select id="sort" style="padding:8px 10px; border:1px solid var(--border); border-radius:10px; background:transparent;">
                <option>Featured</option>
                <option>Price: Low to High</option>
                <option>Price: High to Low</option>
                <option>Newest</option>
              </select>
            </div>
          </div>
          <div class="grid" id="productsGrid"></div>
        </section>
      </div>

      <div class="container">
        <section class="newsletter">
          <div>
            <h2>Join the Inner Circle</h2>
            <p class="muted">Get early access, exclusive offers, and calm in your inbox.</p>
          </div>
          <form id="newsletterForm">
            <input type="email" placeholder="Enter your email" aria-label="Email" required />
            <button type="submit">Subscribe</button>
          </form>
        </section>
      </div>
    </main>

    <footer>
      <div class="container footer-grid">
        <div>
          <div class="brand" style="margin-bottom:8px;">
            <img src="display/hands to heaven logo.jpg" alt="Hands to Heaven Logo" class="brand-logo" />
            <div class="brand-name">Hands to Heaven</div>
          </div>
          <div class="muted">Quiet luxury for everyday living.</div>
        </div>
        <div>
          <div class="title">Shop</div>
          <div><a class="muted" href="#">New arrivals</a></div>
          <div><a class="muted" href="#">Best sellers</a></div>
          <div><a class="muted" href="#">Gift cards</a></div>
        </div>
        <div>
          <div class="title">Company</div>
          <div><a class="muted" href="#">About</a></div>
          <div><a class="muted" href="#">Sustainability</a></div>
          <div><a class="muted" href="#">Careers</a></div>
        </div>
        <div>
          <div class="title">Help</div>
          <div><a class="muted" href="#">Shipping</a></div>
          <div><a class="muted" href="#">Returns</a></div>
          <div><a class="muted" href="#">Contact</a></div>
        </div>
      </div>
      <div class="container" style="margin-top:16px; color:var(--muted); font-size:14px;">© <span id="year"></span> Hands to Heaven. All rights reserved.</div>
    </footer>

    <!-- Overlays / Drawers -->
    <div id="overlay" class="overlay" aria-hidden="true"></div>
    <div id="toaster" class="toaster" aria-live="polite" aria-atomic="true"></div>
    <!-- Phone preview modal -->
    <div id="phoneOverlay" class="phone-overlay" aria-hidden="true" aria-label="Phone preview modal">
      <div class="phone-frame">
        <div class="phone-notch"></div>
        <button class="phone-close" id="closePhoneView">Close</button>
        <iframe class="phone-iframe" id="phoneIframe" title="Phone preview"></iframe>
      </div>
    </div>
    <!-- Mobile tab bar -->
    <nav class="mobile-tabbar" aria-label="Bottom navigation">
      <button id="tabHome" class="active" aria-label="Home">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M3 11l9-7 9 7v8a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2v-4H9v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8z" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
        <span style="font-size:12px;">Home</span>
      </button>
      <button id="tabSearch" aria-label="Search">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M21 21l-3.8-3.8M10.5 18a7.5 7.5 0 100-15 7.5 7.5 0 000 15z" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
        <span style="font-size:12px;">Search</span>
      </button>
      <button id="tabProducts" aria-label="Products">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M3 7h18M3 12h18M3 17h18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
        <span style="font-size:12px;">Products</span>
      </button>
      <button id="tabCart" class="mobile-badge" aria-label="Cart">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M3 3h2l1.5 12h11L21 6H6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><circle cx="9" cy="20" r="1.5" fill="currentColor"/><circle cx="17" cy="20" r="1.5" fill="currentColor"/></svg>
        <span id="cartCountMobile">0</span>
      </button>
    </nav>

    <aside id="cartDrawer" class="drawer" aria-label="Shopping cart" aria-hidden="true">
      <div class="drawer-header">
        <div class="title">Your cart</div>
        <button class="icon-btn" id="closeCart" aria-label="Close cart">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
      </div>
      <div class="drawer-body" id="cartItems">
        <div class="muted">Your cart is empty.</div>
      </div>
      <div class="drawer-footer">
        <div style="display:flex; justify-content:space-between; margin-bottom:12px;">
          <div class="subtitle">Subtotal</div>
          <div id="subtotal" style="font-weight:700;">$0.00</div>
        </div>
        <button class="btn primary" style="justify-content:center; width:100%;">Checkout</button>
      </div>
    </aside>


    <script>
      const overlay = document.getElementById('overlay');
      const cartDrawer = document.getElementById('cartDrawer');
      const openCart = document.getElementById('openCart');
      const closeCart = document.getElementById('closeCart');
      const cartCount = document.getElementById('cartCount');
      const cartItems = document.getElementById('cartItems');
      const subtotal = document.getElementById('subtotal');
      const year = document.getElementById('year');
      const searchForm = document.getElementById('searchForm');
      const clearSearch = document.getElementById('clearSearch');
      const searchDropdown = document.getElementById('searchDropdown');
      const searchList = document.getElementById('searchList');
      const newsletterForm = document.getElementById('newsletterForm');
      const adsBottom = document.getElementById('adsBottom');
      const moreMenu = document.getElementById('moreMenu');
      const moreMenuBtn = document.getElementById('moreMenuBtn');
      const toaster = document.getElementById('toaster');
      const phoneOverlay = document.getElementById('phoneOverlay');
      const openPhoneView = document.getElementById('openPhoneView');
      const closePhoneView = document.getElementById('closePhoneView');
      const phoneIframe = document.getElementById('phoneIframe');
      const promoTrack = document.getElementById('promoTrack');
      const productsGrid = document.getElementById('productsGrid');
      const productCountEl = document.getElementById('productCount');

      year.textContent = new Date().getFullYear();

      // Dynamic data state
      let allProducts = [];
      let categoriesFromData = [];

      function renderAds(trackEl) {
        if (!trackEl) return;
        const palette = [
          'linear-gradient(135deg, rgba(91,124,250,0.18), rgba(255,255,255,0.6))',
          'linear-gradient(135deg, rgba(16,185,129,0.18), rgba(255,255,255,0.6))',
          'linear-gradient(135deg, rgba(245,158,11,0.22), rgba(255,255,255,0.6))',
          'linear-gradient(135deg, rgba(236,72,153,0.18), rgba(255,255,255,0.6))',
          'linear-gradient(135deg, rgba(99,102,241,0.22), rgba(255,255,255,0.6))'
        ];
        const items = categoriesFromData.map((it, idx) => `
          <button class="ad-item" data-category="${it.key}" style="background:${palette[idx % palette.length]}; cursor:pointer; border:none;">
            <span class="label">${it.label}</span>
          </button>
        `).join('');
        // Duplicate content to create seamless loop
        trackEl.innerHTML = items + items;
        // Wire click -> filter by category
        trackEl.querySelectorAll('[data-category]').forEach(btn => {
          btn.addEventListener('click', () => {
            const cat = btn.getAttribute('data-category');
            // Check the corresponding filter and uncheck others
            document.querySelectorAll('.filters input[type="checkbox"]').forEach(cb => {
              cb.checked = cb.value === cat;
            });
            applyFilters();
            // Scroll products into view
            document.getElementById('products')?.scrollIntoView({ behavior: 'smooth' });
          });
        });
      }

      // Will render once data is loaded

      // Dropdown interactions (robust toggle + explicit close)
      function setMoreMenuOpen(open) {
        moreMenu.setAttribute('data-open', String(!!open));
        moreMenuBtn.setAttribute('aria-expanded', String(!!open));
      }
      moreMenuBtn?.addEventListener('click', (e) => {
        e.stopPropagation();
        const current = moreMenu.getAttribute('data-open') === 'true';
        setMoreMenuOpen(!current);
      });
      document.addEventListener('click', (e) => {
        if (!moreMenu.contains(e.target)) setMoreMenuOpen(false);
      });
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') setMoreMenuOpen(false);
      });
      // Close dropdown when interacting with search
      searchForm?.addEventListener('focusin', () => setMoreMenuOpen(false));

      function setOpen(drawer, isOpen) {
        const root = document.body;
        
        if (isOpen) {
          root.classList.add('open');
          drawer.setAttribute('aria-hidden', 'false');
          overlay.setAttribute('aria-hidden', 'false');
        } else {
          drawer.setAttribute('aria-hidden', 'true');
          overlay.setAttribute('aria-hidden', 'true');
          setTimeout(() => document.body.classList.remove('open'), 200);
        }
      }

      openCart?.addEventListener('click', () => setOpen(cartDrawer, true));
      closeCart?.addEventListener('click', () => setOpen(cartDrawer, false));
      overlay.addEventListener('click', () => setOpen(cartDrawer, false));

      // Diwali promo slider autoplay
      (function initPromoSlider() {
        if (!promoTrack) return;
        let index = 0;
        const slides = promoTrack.children.length;
        function go(n) {
          index = (n + slides) % slides;
          promoTrack.style.transform = `translateX(${-index * 100}vw)`;
        }
        setInterval(() => go(index + 1), 3500);
      })();

      // Demo cart state
      const cart = { items: [], total: 0 };
      // Hydrate cart from localStorage
      try {
        const rawCart = localStorage.getItem('cart');
        if (rawCart) {
          const parsed = JSON.parse(rawCart);
          if (Array.isArray(parsed.items)) cart.items = parsed.items;
        }
      } catch {}
      function showToast(message) {
        const el = document.createElement('div');
        el.className = 'toast enter';
        el.innerHTML = `<svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="min-width:16px"><path d="M9 12l2 2 4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg><span>${message}</span>`;
        toaster.appendChild(el);
        setTimeout(() => {
          el.classList.remove('enter');
          el.classList.add('exit');
          setTimeout(() => el.remove(), 200);
        }, 1600);
      }
      function renderCart() {
        if (cart.items.length === 0) {
          cartItems.innerHTML = '<div class="muted">Your cart is empty.</div>';
          subtotal.textContent = '$0.00';
          cartCount.textContent = '0';
          cartCountMobile.textContent = '0';
          return;
        }
        let html = '';
        cart.total = 0;
        cart.items.forEach((it, idx) => {
          cart.total += it.price * it.quantity;
          html += `\n            <div style=\"display:flex; gap:12px; align-items:center; border-bottom:1px solid var(--border); padding:10px 0;\">\n              <div style=\"width:64px; height:64px; background:linear-gradient(135deg,#eef2ff,#f8fafc); border-radius:8px;\"></div>\n              <div style=\"flex:1;\">\n                <div class=\"title\">${it.title}</div>\n                <div class=\"muted\" style=\"font-size:14px;\">${it.variant}</div>\n                <div class=\"muted\" style=\"font-size:13px;\">Qty: ${it.quantity}</div>\n              </div>\n              <div>$${(it.price * it.quantity).toFixed(2)}</div>\n              <button class=\"icon-btn\" aria-label=\"Remove\" data-remove-index=\"${idx}\">Remove</button>\n            </div>\n          `;
        });
        cartItems.innerHTML = html;
        subtotal.textContent = `$${cart.total.toFixed(2)}`;
        const totalQty = cart.items.reduce((n, it) => n + it.quantity, 0);
        cartCount.textContent = String(totalQty);
        cartCountMobile.textContent = String(totalQty);
        [...cartItems.querySelectorAll('[data-remove-index]')].forEach(btn => {
          btn.addEventListener('click', (e) => {
            const idx = Number(e.currentTarget.getAttribute('data-remove-index'));
            cart.items.splice(idx, 1);
            renderCart();
          });
        });
      }

      // Enhanced cart functionality with animations
      function bindAddToCart() {
        document.querySelectorAll('[data-add-to-cart]').forEach((btn) => {
          btn.addEventListener('click', (e) => {
            e.preventDefault();
            const card = btn.closest('.card');
            const title = card.querySelector('.title').textContent.trim();
            const variant = card.querySelector('.subtitle').textContent.trim();
            const priceText = card.querySelector('.price-row-card div').textContent.replace('$','').trim();
            const price = Number(priceText);
            
            const key = `${title}|${variant}|${price}`;
            const existing = cart.items.find(it => `${it.title}|${it.variant}|${it.price}` === key);
            if (existing) {
              existing.quantity += 1;
            } else {
              cart.items.push({ title, variant, price, quantity: 1 });
            }
            renderCart();
            try { localStorage.setItem('cart', JSON.stringify(cart)); } catch {}
            showToast(`${title} added to cart`);
            
            cartCount.style.animation = 'none';
            cartCount.offsetHeight;
            cartCount.style.animation = 'pulse 0.6s ease-out';
          });
        });
      }

      // Enhanced search with live results
      const searchInput = searchForm?.querySelector('input');
      let searchTimeout;
      
      function getAllProducts() {
        return Array.from(document.querySelectorAll('.card')).map(card => ({
          card,
          title: card.querySelector('.title').textContent.trim(),
          subtitle: card.querySelector('.subtitle').textContent.trim(),
          price: card.querySelector('.price-row-card div').textContent.trim(),
          img: card.querySelector('.media img')?.getAttribute('src') || '',
        }));
      }

      function filterGrid(query) {
        const q = query.trim().toLowerCase();
        const cards = document.querySelectorAll('.card');
        if (q.length === 0) {
          cards.forEach(card => { card.style.display = 'flex'; card.style.opacity = '1'; card.style.transform = 'translateY(0)'; });
          return;
        }
        cards.forEach(card => {
          const title = card.querySelector('.title').textContent.toLowerCase();
          const subtitle = card.querySelector('.subtitle').textContent.toLowerCase();
          const matches = title.includes(q) || subtitle.includes(q);
          card.style.display = matches ? 'flex' : 'none';
          card.style.opacity = matches ? '1' : '0';
          card.style.transform = matches ? 'translateY(0)' : 'translateY(20px)';
        });
      }

      function renderSuggestions(query) {
        const products = getAllProducts();
        const q = query.toLowerCase();
        const matches = products.filter(p => p.title.toLowerCase().includes(q) || p.subtitle.toLowerCase().includes(q));
        if (matches.length === 0) {
          searchList.innerHTML = '<div class="muted" style="padding:10px;">No results</div>';
          return;
        }
        searchList.innerHTML = matches.map(p => `
          <div class="search-item" data-target-title="${p.title}">
            <img class="search-thumb" src="${p.img}" alt="${p.title}" />
            <div>
              <div class="search-title">${p.title}</div>
              <div class="search-sub">${p.subtitle}</div>
            </div>
            <div class="search-price">${p.price}</div>
          </div>
        `).join('');
        searchList.querySelectorAll('.search-item').forEach(item => {
          item.addEventListener('click', () => {
            const title = item.getAttribute('data-target-title');
            const target = Array.from(document.querySelectorAll('.card')).find(c => c.querySelector('.title').textContent.trim() === title);
            if (target) {
              document.querySelectorAll('.card').forEach(c => c.classList.remove('highlight'));
              target.scrollIntoView({ behavior: 'smooth', block: 'center' });
              target.classList.add('highlight');
              setTimeout(() => target.classList.remove('highlight'), 2000);
            }
            searchForm.classList.remove('open');
          });
        });
      }

      searchInput?.addEventListener('input', (e) => {
        clearTimeout(searchTimeout);
        const value = e.target.value.trim();
        
        if (value.length > 0) {
          searchTimeout = setTimeout(() => {
            // Live suggestions + filter grid
            renderSuggestions(value);
            filterGrid(value);
            searchForm.classList.add('open');
          }, 300);
        } else if (value.length === 0) {
          // Show all cards
          filterGrid('');
          searchForm.classList.remove('open');
        }
      });

      clearSearch?.addEventListener('click', () => {
        filterGrid('');
        searchInput.value = '';
        searchForm.classList.remove('open');
        searchInput.focus();
      });

      // Submit search to filter grid
      searchForm?.addEventListener('submit', (e) => {
        e.preventDefault();
        const value = searchInput.value.trim();
        filterGrid(value);
        searchForm.classList.remove('open');
      });

      // Apply current filter when focusing the search bar
      searchInput?.addEventListener('focus', () => {
        const value = searchInput.value.trim();
        if (value.length > 0) {
          filterGrid(value);
          renderSuggestions(value);
          searchForm.classList.add('open');
        }
      });

      // Enhanced newsletter with success animation
      newsletterForm?.addEventListener('submit', (e) => {
        e.preventDefault();
        const email = newsletterForm.querySelector('input').value.trim();
        const button = newsletterForm.querySelector('button');
        
        if (email) {
          button.textContent = 'Subscribing...';
          button.disabled = true;
          
          setTimeout(() => {
            button.textContent = 'Subscribed!';
            button.style.background = 'var(--success)';
            
            setTimeout(() => {
              button.textContent = 'Subscribe';
              button.disabled = false;
              button.style.background = 'var(--brand)';
              newsletterForm.querySelector('input').value = '';
            }, 2000);
          }, 1000);
        }
      });

      // Filter functionality
      const filterCheckboxes = document.querySelectorAll('.filters input[type="checkbox"]');
      
      filterCheckboxes.forEach(checkbox => {
        checkbox.addEventListener('change', applyFilters);
      });
      
      function applyFilters() {
        const cards = document.querySelectorAll('.card');
        const selectedCategories = Array.from(filterCheckboxes)
          .filter(cb => cb.checked)
          .map(cb => cb.value);
        
        cards.forEach((card, index) => {
          const category = card.getAttribute('data-category') || '';
          const matchesCategory = selectedCategories.length === 0 || selectedCategories.includes(category);
          if (matchesCategory) {
            card.style.display = 'flex';
            card.style.animation = `slideInUp 0.6s ease-out ${index * 0.1}s both`;
          } else {
            card.style.display = 'none';
          }
        });
      }

      // Apply filters on button click (optional explicit action)
      document.getElementById('applyFiltersBtn')?.addEventListener('click', applyFilters);

      // Sort functionality
      const sortSelect = document.getElementById('sort');
      sortSelect?.addEventListener('change', (e) => {
        const cards = Array.from(document.querySelectorAll('.card'));
        const container = document.querySelector('.grid');
        
        const sortBy = e.target.value;
        cards.sort((a, b) => {
          const titleA = a.querySelector('.title').textContent;
          const titleB = b.querySelector('.title').textContent;
          const priceA = parseFloat(a.querySelector('.price-row-card div').textContent.replace('$',''));
          const priceB = parseFloat(b.querySelector('.price-row-card div').textContent.replace('$',''));
          
          switch(sortBy) {
            case 'Price: Low to High':
              return priceA - priceB;
            case 'Price: High to Low':
              return priceB - priceA;
            case 'Newest':
              return Math.random() - 0.5;
            default:
              return 0;
          }
        });
        
        // Animate reordering
        cards.forEach((card, index) => {
          card.style.animation = `slideInUp 0.6s ease-out ${index * 0.1}s both`;
          container.appendChild(card);
        });
      });

      // Intersection Observer for scroll animations
      const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
      };
      
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.style.animationPlayState = 'running';
          }
        });
      }, observerOptions);
      
      // Observe cards for scroll animations
      document.querySelectorAll('.card').forEach(card => {
        observer.observe(card);
      });

      // Parallax effect for hero section
      window.addEventListener('scroll', () => {
        const scrolled = window.pageYOffset;
        const heroMedia = document.querySelector('.hero-media');
        if (heroMedia) {
          heroMedia.style.transform = `translateY(${scrolled * 0.3}px)`;
        }
      });


      // Keyboard navigation
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
          setOpen(cartDrawer, false);
        }
      });

      // Mobile tab actions
      document.getElementById('tabHome')?.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));
      document.getElementById('tabSearch')?.addEventListener('click', () => searchInput?.focus());
      document.getElementById('tabProducts')?.addEventListener('click', () => document.getElementById('products')?.scrollIntoView({ behavior: 'smooth' }));
      document.getElementById('tabCart')?.addEventListener('click', () => setOpen(cartDrawer, true));

      // Load products.json and build UI
      function renderProductCards(list) {
        if (!productsGrid) return;
        const html = list.map(p => `
          <article class="card" data-category="${p.category}">
            <div class="media">
              <img src="${p.image}" alt="${p.title}" />
            </div>
            <div class="info">
              <div class="title">${p.title}</div>
              <div class="subtitle">${p.subtitle}</div>
              <div class="price-row-card"><div>$${p.price}</div><button class="add-btn" data-add-to-cart data-id="${p.id}">Add</button></div>
            </div>
          </article>
        `).join('');
        productsGrid.innerHTML = html;
        if (productCountEl) productCountEl.textContent = String(list.length);
        bindAddToCart();
      }

      async function loadProducts() {
        try {
          const res = await fetch('products.json', { cache: 'no-store' });
          allProducts = await res.json();
          renderProductCards(allProducts);
          const uniq = Array.from(new Set(allProducts.map(p => p.category)));
          categoriesFromData = uniq.map(c => ({ key: c, label: c.replace(/-/g, ' ').replace(/\b\w/g, m => m.toUpperCase()) }));
          renderAds(adsBottom);
        } catch (e) {
          console.error('Failed to load products.json', e);
        }
      }

      loadProducts();

      // Phone view modal
      function setPhoneOpen(isOpen) {
        phoneOverlay.setAttribute('aria-hidden', String(!isOpen));
        if (isOpen) {
          // Load current page into iframe
          phoneIframe.src = window.location.href;
        } else {
          phoneIframe.src = '';
        }
      }
      openPhoneView?.addEventListener('click', () => {
        setPhoneOpen(true);
        setMoreMenuOpen(false);
      });
      closePhoneView?.addEventListener('click', () => setPhoneOpen(false));
      phoneOverlay?.addEventListener('click', (e) => {
        if (e.target === phoneOverlay) setPhoneOpen(false);
      });
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') setPhoneOpen(false);
      });

      // Inject Product JSON-LD for SEO
      function injectProductJsonLd(products) {
        try {
          const ld = {
            '@context': 'https://schema.org',
            '@type': 'ItemList',
            itemListElement: products.map((p, i) => ({
              '@type': 'ListItem',
              position: i + 1,
              item: {
                '@type': 'Product',
                name: p.title,
                description: p.subtitle,
                image: p.image,
                category: p.category,
                offers: {
                  '@type': 'Offer',
                  price: String(p.price),
                  priceCurrency: 'USD',
                  availability: 'https://schema.org/InStock'
                }
              }
            }))
          };
          const script = document.createElement('script');
          script.type = 'application/ld+json';
          script.textContent = JSON.stringify(ld);
          document.head.appendChild(script);
        } catch {}
      }

      // After products load, also inject JSON-LD and render cart
      (async () => {
        await loadProducts();
        injectProductJsonLd(allProducts);
        renderCart();
      })();
    </script>
  </body>
  </html>


